var app=angular.module("app",[]);
angular.module("app",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(t,o){o.otherwise("/"),t.state("home",{url:"/",templateUrl:"moves/moves.html"}).state("thirty",{url:"/tools/3030",templateUrl:"tools/thirty.html"}).state("battle",{url:"/tools/battle-mode",templateUrl:"tools/battle-mode.html"})}]).controller("MovesCtr",["$scope","MovesSvc",function(t,o){t.newMove=!1,o.fetch().success(function(o){t.moves=o}),t.addMove=function(){t.moveBody&&o.create({username:"tora",body:t.moveBody,type:t.moveType,value:t.moveValue,clip:t.moveClip}).success(function(o){t.moves.unshift(o),t.moveBody=null})}}]).controller("ThirtyCtrl",["$scope","$timeout",function(t,o){function e(){t.time++,t.timeout=o(e,1e3)}t.time=0,t.start=function(){e()},t.stop=function(){o.cancel(t.timeout)},t.reset=function(){t.time=0}}]).controller("BattleCtrl",["$scope","MovesSvc",function(t,o){t.newMove=!1,o.fetch().success(function(o){t.moves=o})}]).controller("RegCtlr",["$scope",function(){}]).controller("LogCtlr",["$scope","UserSvc",function(t,o){t.login=function(t,e){o.login(t,e).then(function(t){console.log(t)})}}]);
angular.module("app").service("MovesSvc",["$http",function(t){this.fetch=function(){return t.get("/api/moves")},this.create=function(e){return t.post("/api/moves",e)}}]);
angular.module("app").service("UserSvc",["$http",function(e){var t=this;t.getUser=function(){return e.get("/api/users",{headers:{"X-Auth":this.token}})},t.login=function(n,s){return e.post("/api/sessions",{username:n,password:s}).then(function(e){return t.token=e.data,t.getUser()})}}]);