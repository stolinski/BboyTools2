var app=angular.module("app",["ui.router","ngAnimate","battleFilter"]);
angular.module("battleFilter",[]).filter("battle",function(){return function(t,e){return t&&e?-1==e.indexOf(t[0].body)?t:!1:void 0}});
angular.module("app").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"moves/moves.html"}).state("thirty",{url:"/tools/3030",templateUrl:"tools/thirty.html"}).state("battle",{url:"/tools/battle-mode",templateUrl:"tools/battle-mode.html"}).state("profile",{url:"/profile",templateUrl:"user/profile.html"})}]).run(["$rootScope","$state",function(e,t){e.$state=t}]).controller("MovesCtr",["$scope","MovesSvc",function(e,t){e.newMove=!1,t.fetch().success(function(t){e.moves=t}),e.btnToggle=function(e){return e?"Cancel":"Add New Move"},e.addMove=function(){e.moveBody&&t.create({username:"tora",body:e.moveBody,type:e.moveType,value:e.moveValue,clip:e.moveClip}).success(function(t){e.moves.unshift(t),e.moveBody=null})}}]).controller("ThirtyCtrl",["$scope","$timeout",function(e,t){function o(){e.time++,e.timeout=t(o,1e3)}e.time=0,e.start=function(){o()},e.stop=function(){t.cancel(e.timeout)},e.reset=function(){e.time=0}}]).controller("BattleCtrl",["$scope","MovesSvc",function(e,t){e.newMove=!1,e.used=[],t.fetch().success(function(t){e.moves=t}),e.useMove=function(t){e.used.push(t),console.log(e.used)}}]).controller("ProfileCtrl",["$scope","MovesSvc",function(e,t){e.newMove=!1,t.fetch().success(function(t){e.moves=t})}]).controller("RegCtlr",["$scope",function(){}]).controller("LogCtlr",["$scope","UserSvc",function(e,t){e.login=function(e,o){t.login(e,o).then(function(e){console.log(e)})}}]).filter("objectByKeyValFilter",function(){return function(e,t,o){var n={};return angular.forEach(e,function(e,l){e[t]&&e[t]==o&&(n[l]=e)}),n}});
angular.module("app").service("MovesSvc",["$http",function(t){this.fetch=function(){return t.get("/api/moves")},this.create=function(e){return t.post("/api/moves",e)}}]);
angular.module("app").service("UserSvc",["$http",function(e){var t=this;t.getUser=function(){return e.get("/api/users",{headers:{"X-Auth":this.token}})},t.login=function(n,s){return e.post("/api/sessions",{username:n,password:s}).then(function(e){return t.token=e.data,t.getUser()})}}]);